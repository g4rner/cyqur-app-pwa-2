function logMe(e,t){var n=e+", "+t+", ts: "+Date.now()+"<br/>";document.getElementById("logfiles").innerHTML+=n}function random(e){const t=crypto.getRandomValues(new Uint8Array(24));var n=btoa(String.fromCharCode.apply(null,t));document.getElementById(e).value=n}function insertp(e,t){document.getElementById(e).value=t}const toggleEye=(e,t)=>{const n=document.getElementById(e),o=document.getElementById(t);"password"===n.type?(n.type="text",o.innerHTML=closedEye):(n.type="password",o.innerHTML=openEye)},isSafariPopover=async()=>{let e;return"object"==typeof browser&&(e=await(browser?.tabs.getCurrent())),!navigator.userAgentData&&""===e?.title&&""===e?.url},isSafariExtended=async()=>{let e;return"object"==typeof browser&&(e=await(browser?.tabs.getCurrent())),!navigator.userAgentData&&""!==e?.title&&""!==e?.url},isChromeOrOtherBrowser=()=>!!navigator.userAgentData;function copy_data(e){var t=document.createRange();t.selectNode(e),window.getSelection().removeAllRanges(),window.getSelection().addRange(t),document("copy"),window.getSelection().removeAllRanges(),insertp("thedpwd2",document.getElementById("phrase").innerHTML)}function generate_prk(){var e=document.getElementById("fp").innerHTML+Date.now();insertp("ddata",e=sha256(e)),encrypt()}function sleep(e){const t=Date.now();let n=null;do{n=Date.now()}while(n-t<e)}const generateDownloadLink=async(e,t)=>{if(await isSafariPopover()){const n=`data:text/plain;base64,${btoa(e)}`;window.open(`data:text/html,<html><head><script>setTimeout(()=>{ var element = document.createElement('a'); element.setAttribute('href', '${n}'); element.setAttribute('download', '${t}'); element.click() },100) <\/script></head><body></body></html>`,"_blank")}else{const n=document.createElement("a");n.download=t;const o=new Blob([e],{type:"text/plain"});n.href=URL.createObjectURL(o),n.click(),URL.revokeObjectURL(n.href)}};
